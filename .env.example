# ===================================
# Auto Trading System - Environment Variables
# ===================================

# ===================================
# Application Settings
# ===================================
NODE_ENV=development
LOG_LEVEL=info
PORT=3000

# ===================================
# Korea Investment & Securities API
# ===================================
KIS_APP_KEY=your_app_key_here
KIS_APP_SECRET=your_app_secret_here
KIS_ACCOUNT_NO=your_account_number
KIS_ACCOUNT_TYPE=01  # 01: Paper Trading, 02: Live Trading

# API Endpoints
KIS_BASE_URL_REAL=https://openapi.koreainvestment.com:9443
KIS_BASE_URL_VIRTUAL=https://openapivts.koreainvestment.com:29443

# ===================================
# PostgreSQL Database
# ===================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=trading_db
DB_USER=trading_user
DB_PASSWORD=trading_password

# Connection Pool
DB_POOL_MIN=2
DB_POOL_MAX=10

# ===================================
# Redis Cache
# ===================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_password
REDIS_DB=0

# ===================================
# Kafka Message Broker
# ===================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_CLIENT_ID=auto-trading-system
KAFKA_GROUP_ID=auto-trading-group

# Kafka Topics
KAFKA_TOPIC_MARKET_BAR=market.bar
KAFKA_TOPIC_SIGNAL_OUT=signal.out
KAFKA_TOPIC_ORDER_NEW=order.new
KAFKA_TOPIC_ORDER_STATE=order.state
KAFKA_TOPIC_EXECUTION_FILL=execution.fill
KAFKA_TOPIC_RISK_EVENT=risk.event

# ===================================
# Risk Management
# ===================================
# Daily loss limit (e.g., -0.02 = -2%)
MAX_DAILY_LOSS_PCT=-0.02

# Maximum number of positions
MAX_POSITION_COUNT=5

# Maximum weight per position (e.g., 0.20 = 20%)
MAX_POSITION_WEIGHT_PCT=0.20

# Stop loss percentage
STOP_LOSS_PCT=-0.05

# Take profit percentage
TAKE_PROFIT_PCT=0.10

# Cooldown period after consecutive failures (seconds)
ORDER_COOLDOWN_SECONDS=300

# ===================================
# Strategy Parameters
# ===================================
STRATEGY_CONFIG_PATH=./config/strategies.yaml

# Moving Average periods
MA_SHORT_PERIOD=50
MA_LONG_PERIOD=200

# Volume threshold multiplier
VOLUME_THRESHOLD=1.5

# ===================================
# Monitoring & Alerts
# ===================================
# Slack
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#trading-alerts

# Email (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
ALERT_EMAIL_TO=your_email@gmail.com

# ===================================
# Development Tools (Optional)
# ===================================
# pgAdmin
PGADMIN_EMAIL=admin@trading.local
PGADMIN_PASSWORD=admin

# ===================================
# Testing
# ===================================
TEST_DB_NAME=trading_db_test
TEST_REDIS_DB=1

# ===================================
# Security
# ===================================
# JWT Secret (for API authentication if needed)
JWT_SECRET=your_jwt_secret_here_change_in_production

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ===================================
# Feature Flags
# ===================================
ENABLE_PAPER_TRADING=true
ENABLE_BACKTESTING=false
ENABLE_KILL_SWITCH=true
ENABLE_DETAILED_LOGGING=true
